<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.6.3/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.6.3/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.3/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.3/firebase-firestore.js"></script>

<script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
        apiKey: "AIzaSyDL4ouOGbXMw48nVdPp8Of-_Qzbg20zrS4",
        authDomain: "cinemacenter-8ff56.firebaseapp.com",
        databaseURL: "https://cinemacenter-8ff56-default-rtdb.firebaseio.com",
        projectId: "cinemacenter-8ff56",
        storageBucket: "cinemacenter-8ff56.appspot.com",
        messagingSenderId: "119313892179",
        appId: "1:119313892179:web:5c39f74d27fd0c7a8357a6",
        measurementId: "G-E1MT3KJDEV"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    // Make auth and firestore references
    const auth = firebase.auth();
    const db1 = firebase.firestore();

    // Update firestore settings
    db1.settings({timestampsInSnapshots: true});

    /* In this step, we want to check whether the user is currently logged into the website
        If there is, we want to remove the sign in button
        We also want to display a user profile button along with a log out button
    */
    auth.onAuthStateChanged(user => {
    if (user) {
        const doc = db1.collection('users').doc(user.uid);
        doc.get().then((obj) => {
            if (!obj.exists) { console.log('Error: This user does not exist') }
            else { console.log("Currently logged in user: " + obj.data()); }
        })
    }
    else {
        console.log('There is no user currently logged in')
    }
    })

</script>

<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="../../public/js/auth.js"></script>
<script src="../../js/register.js"></script>   